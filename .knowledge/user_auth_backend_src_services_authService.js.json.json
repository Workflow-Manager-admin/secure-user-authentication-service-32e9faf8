{"is_source_file": true, "format": "JavaScript", "description": "This file defines the AuthService class responsible for user authentication functionalities such as registration, login, token generation, and user retrieval in a Node.js backend application.", "external_files": ["../models/User"], "external_methods": ["User.findOne", "User.prototype.save", "User.findById"], "published": ["new AuthService()"], "classes": [{"name": "AuthService", "description": "Provides authentication related operations including user registration, login, token verification, and user retrieval."}], "methods": [{"name": "generateToken(user)", "description": "Creates a JWT token containing user information, signed with a secret, and with configurable expiration.", "scope": "AuthService", "scopeKind": "class"}, {"name": "verifyToken(token)", "description": "Verifies and decodes a JWT token using the secret.", "scope": "AuthService", "scopeKind": "class"}, {"name": "register(userData)", "description": "Registers a new user after checking for existing email, saves user to database, and generates a JWT token.", "scope": "AuthService", "scopeKind": "class"}, {"name": "login(credentials)", "description": "Authenticates a user by email and password, updates last login, and returns a JWT token.", "scope": "AuthService", "scopeKind": "class"}, {"name": "getUserById(userId)", "description": "Retrieves user data by user ID.", "scope": "AuthService", "scopeKind": "class"}], "calls": ["jwt.sign", "jwt.verify", "User.findOne", "user.save", "User.findById"], "search-terms": ["AuthService", "JWT token", "register", "login", "verifyToken", "User model"], "state": 2, "file_id": 14, "knowledge_revision": 29, "git_revision": "", "ctags": [{"_type": "tag", "name": "AuthService", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-service-32e9faf8/user_auth_backend/src/services/authService.js", "pattern": "/^class AuthService {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "User", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-service-32e9faf8/user_auth_backend/src/services/authService.js", "pattern": "/^const User = require('..\\/models\\/User');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-service-32e9faf8/user_auth_backend/src/services/authService.js", "pattern": "/^      email: user.email,$/", "language": "JavaScript", "kind": "property", "scope": "AuthService.generateToken.payload", "scopeKind": "class"}, {"_type": "tag", "name": "exports", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-service-32e9faf8/user_auth_backend/src/services/authService.js", "pattern": "/^module.exports = new AuthService();$/", "language": "JavaScript", "kind": "variable", "scope": "module", "scopeKind": "class"}, {"_type": "tag", "name": "generateToken", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-service-32e9faf8/user_auth_backend/src/services/authService.js", "pattern": "/^  generateToken(user) {$/", "language": "JavaScript", "kind": "method", "signature": "(user)", "scope": "AuthService", "scopeKind": "class"}, {"_type": "tag", "name": "getUserById", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-service-32e9faf8/user_auth_backend/src/services/authService.js", "pattern": "/^  async getUserById(userId) {$/", "language": "JavaScript", "kind": "method", "signature": "(userId)", "scope": "AuthService", "scopeKind": "class"}, {"_type": "tag", "name": "jwt", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-service-32e9faf8/user_auth_backend/src/services/authService.js", "pattern": "/^const jwt = require('jsonwebtoken');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-service-32e9faf8/user_auth_backend/src/services/authService.js", "pattern": "/^  async login(credentials) {$/", "language": "JavaScript", "kind": "method", "signature": "(credentials)", "scope": "AuthService", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-service-32e9faf8/user_auth_backend/src/services/authService.js", "pattern": "/^      name: user.name$/", "language": "JavaScript", "kind": "property", "scope": "AuthService.generateToken.payload", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-service-32e9faf8/user_auth_backend/src/services/authService.js", "pattern": "/^    const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "AuthService.generateToken", "scopeKind": "class"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-service-32e9faf8/user_auth_backend/src/services/authService.js", "pattern": "/^  async register(userData) {$/", "language": "JavaScript", "kind": "method", "signature": "(userData)", "scope": "AuthService", "scopeKind": "class"}, {"_type": "tag", "name": "userId", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-service-32e9faf8/user_auth_backend/src/services/authService.js", "pattern": "/^      userId: user._id,$/", "language": "JavaScript", "kind": "property", "scope": "AuthService.generateToken.payload", "scopeKind": "class"}, {"_type": "tag", "name": "verifyToken", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-service-32e9faf8/user_auth_backend/src/services/authService.js", "pattern": "/^  verifyToken(token) {$/", "language": "JavaScript", "kind": "method", "signature": "(token)", "scope": "AuthService", "scopeKind": "class"}], "hash": "5c2ac765b13303d5ef6d1a5347bae79b", "format-version": 4, "code-base-name": "user_auth_backend", "filename": "user_auth_backend/src/services/authService.js", "fields": [{"name": "email: user.email,", "scope": "AuthService.generateToken.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "module.exports = new AuthService();", "scope": "module", "scopeKind": "class", "description": "unavailable"}, {"name": "name: user.name", "scope": "AuthService.generateToken.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "userId: user._id,", "scope": "AuthService.generateToken.payload", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"29": ""}]}